{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"link\", {\n  href: \"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\",\n  rel: \"stylesheet\",\n  integrity: \"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\",\n  crossorigin: \"anonymous\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 mb-2 text-end\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Create\");\n\nconst _hoisted_5 = {\n  class: \"col-12\"\n};\nconst _hoisted_6 = {\n  class: \"card\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", null, \"Blogs List\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = {\n  class: \"card-body\"\n};\nconst _hoisted_9 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_10 = {\n  class: \"table table-bordered\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Title\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Description\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Status\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Tag\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Order\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Actions\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  key: 0\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"Edit\");\n\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  key: 1\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"td\", {\n  colspan: \"4\",\n  align: \"center\"\n}, \"No Blogs Found.\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = [_hoisted_16];\nconst _hoisted_18 = {\n  class: \"clearfix btn-group col-md-2 offset-md-5\"\n};\nconst _hoisted_19 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: {\n      name: 'apiAddNewBlog'\n    },\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => [_hoisted_4]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"table\", _hoisted_10, [_hoisted_11, $data.blogs.length > 0 ? (_openBlock(), _createElementBlock(\"tbody\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.blogs.data, blog => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: blog.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(blog.id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(blog.title), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(blog.description), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(blog.status), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(blog.tag), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(blog.order), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: {\n        name: 'apiEditBlog',\n        params: {\n          id: blog.id\n        }\n      },\n      class: \"btn btn-success\"\n    }, {\n      default: _withCtx(() => [_hoisted_13]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: $event => $options.deleteBlog(blog.id),\n      class: \"btn btn-danger\"\n    }, \" Delete \", 8\n    /* PROPS */\n    , _hoisted_14)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : (_openBlock(), _createElementBlock(\"tbody\", _hoisted_15, _hoisted_17))]), _createCommentVNode(\" <PaginationComponent :data=\\\"blogs\\\" @pagination-change-page=\\\"getBlogs\\\">\\n            </PaginationComponent> \"), _createElementVNode(\"div\", _hoisted_18, [$data.page != 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    type: \"button\",\n    class: \"btn btn-sm btn-outline-secondary\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.page--)\n  }, \" >> \")) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.pages.slice($data.page - 1, $data.page + 5), pageNumber => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      type: \"button\",\n      class: \"btn btn-sm btn-outline-secondary\",\n      key: pageNumber,\n      onClick: $event => $data.page = pageNumber\n    }, _toDisplayString(pageNumber), 9\n    /* TEXT, PROPS */\n    , _hoisted_19);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), $data.page < $data.pages.length ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    type: \"button\",\n    class: \"btn btn-sm btn-outline-secondary\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.page++)\n  }, \" Next \")) : _createCommentVNode(\"v-if\", true)])])])])])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;gCACEA,oBAKE,MALF,EAKE;EAJAC,IAAI,EAAC,yEAIL;EAHAC,GAAG,EAAC,YAGJ;EAFAC,SAAS,EAAC,yEAEV;EADAC,WAAW,EAAC;AACZ,CALF;;AAAA;;;EAOKC,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;iDAEN;;;EAGAA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCACTL,oBAEM,KAFN,EAEM;EAFDK,KAAK,EAAC;AAEL,CAFN,EAAwB,cACtBL,oBAAmB,IAAnB,EAAmB,IAAnB,EAAI,YAAJ,CADsB,CAAxB;;AAAA;;;EAGKK,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;iCACXL,oBAUQ,OAVR,EAUQ,IAVR,EAUQ,cATNA,oBAQK,IARL,EAQK,IARL,EAQK,cAPHA,oBAAW,IAAX,EAAW,IAAX,EAAI,IAAJ,CAOG,eANHA,oBAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,CAMG,eALHA,oBAAoB,IAApB,EAAoB,IAApB,EAAI,aAAJ,CAKG,eAJHA,oBAAe,IAAf,EAAe,IAAf,EAAI,QAAJ,CAIG,eAHHA,oBAAY,IAAZ,EAAY,IAAZ,EAAI,KAAJ,CAGG,eAFHA,oBAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,CAEG,eADHA,oBAAgB,IAAhB,EAAgB,IAAhB,EAAI,SAAJ,CACG,CARL,CASM,CAVR;;AAAA;;;;;;kDAuBS;;;;;;;iCAaPA,oBAEK,IAFL,EAEK,IAFL,EAEK,cADHA,oBAAmD,IAAnD,EAAmD;EAA/CM,OAAO,EAAC,GAAuC;EAAnCC,KAAK,EAAC;AAA6B,CAAnD,EAA+B,iBAA/B,CACG,CAFL;;AAAA;;qBAAAC;;EAQCH,KAAK,EAAC;;;;;;6DAjErBI,YAOAT,oBAyFM,KAzFN,cAyFM,CAxFJA,oBAIM,KAJN,cAIM,CAHJU,aAECC,sBAFD,EAEC;IAFaC,EAAE,EAAE;MAAAC;IAAA,CAEjB;IAF4CR,KAAK,EAAC;EAElD,CAFD;sBACG,MAAM;;;;GADT,CAGI,CAJN,CAwFI,EAnFJL,oBAkFM,KAlFN,cAkFM,CAjFJA,oBAgFM,KAhFN,cAgFM,CA/EJc,UA+EI,EA5EJd,oBA2EM,KA3EN,cA2EM,CA1EJA,oBAyEM,KAzEN,cAyEM,CAxEJA,oBAyCQ,OAzCR,eAyCQ,CAxCNe,WAwCM,EA7BOC,YAAMC,MAAN,GAAY,mBAAzBC,oBAuBQ,OAvBR,EAuBQC,WAvBR,EAuBQ,oBAtBND,oBAqBKE,SArBL,EAqBK,IArBL,EAqBKC,YArBcL,YAAMM,IAqBpB,EArBMC,IAAkB,IAAd;yBAAfL,oBAqBK,IArBL,EAqBK;MArB2BM,GAAG,EAAED,IAAI,CAACE;IAqBrC,CArBL,GACEzB,oBAAsB,IAAtB,EAAsB,IAAtB,EAAsB0B,iBAAfH,IAAI,CAACE,EAAU,CAAtB,EAAc;IAAA;IAAd,GACAzB,oBAAyB,IAAzB,EAAyB,IAAzB,EAAyB0B,iBAAlBH,IAAI,CAACI,KAAa,CAAzB,EAAiB;IAAA;IAAjB,GACA3B,oBAA+B,IAA/B,EAA+B,IAA/B,EAA+B0B,iBAAxBH,IAAI,CAACK,WAAmB,CAA/B,EAAuB;IAAA;IAAvB,GACA5B,oBAA0B,IAA1B,EAA0B,IAA1B,EAA0B0B,iBAAnBH,IAAI,CAACM,MAAc,CAA1B,EAAkB;IAAA;IAAlB,GACA7B,oBAAuB,IAAvB,EAAuB,IAAvB,EAAuB0B,iBAAhBH,IAAI,CAACO,GAAW,CAAvB,EAAe;IAAA;IAAf,GACA9B,oBAAyB,IAAzB,EAAyB,IAAzB,EAAyB0B,iBAAlBH,IAAI,CAACQ,KAAa,CAAzB,EAAiB;IAAA;IAAjB,GACA/B,oBAaK,IAbL,EAaK,IAbL,EAaK,CAZHU,aAICC,sBAJD,EAIC;MAHEC,EAAE;QAAAC;QAAAmB;UAAAP,IAAuCF,IAAI,CAACE;QAA5C;MAAA,CAGJ;MAFCpB,KAAK,EAAC;IAEP,CAJD;wBAGG,MAAI;;;;KAHP;;IAAA,SAYG,EAPHL,oBAMS,QANT,EAMS;MALPiC,IAAI,EAAC,QAKE;MAJNC,OAAK,YAAEC,oBAAWZ,IAAI,CAACE,EAAhB,CAID;MAHPpB,KAAK,EAAC;IAGC,CANT,EAIC,UAJD,EAMA;IAAA;IANA,EAMA+B,WANA,CAOG,CAbL,EAPF;GAqBK,CArBL;;EAAA,CAsBM,EAvBR,oBAwBAlB,oBAIQ,OAJR,EAIQmB,WAJR,EAIQC,WAJR,EAKM,CAzCR,CAwEI,EA7BJC,uIA6BI,EA3BJvC,oBA0BM,KA1BN,eA0BM,CAtBIgB,cAAI,mBAHZE,oBAOS,QAPT,EAOS;UAAA;IANPe,IAAI,EAAC,QAME;IALP5B,KAAK,EAAC,kCAKC;IAHN6B,OAAK,sCAAElB,YAAF;EAGC,CAPT,EAKC,MALD,sCAyBI,qBAjBJE,oBAQSE,SART,EAQS,IART,EAQSC,YALcL,YAAMwB,KAAN,CAAYxB,aAAI,CAAhB,EAAsBA,aAAI,CAA1B,CAKd,EALAyB,UAAwC,IAA9B;yBAHnBvB,oBAQS,QART,EAQS;MAPPe,IAAI,EAAC,QAOE;MANP5B,KAAK,EAAC,kCAMC;MAJNmB,GAAG,EAAEiB,UAIC;MAHNP,OAAK,YAAElB,aAAOyB;IAGR,CART,mBAOKA,WAPL,EAOe;IAAA;IAPf,EAOeC,WAPf;GAQS,CART;;EAAA,CAiBI,GAJI1B,aAAOA,YAAMC,wBAJrBC,oBAOS,QAPT,EAOS;UAAA;IANPe,IAAI,EAAC,QAME;IALP5B,KAAK,EAAC,kCAKC;IAJN6B,OAAK,sCAAElB,YAAF;EAIC,CAPT,EAKC,QALD,sCAQI,CA1BN,CA2BI,CAzEN,CA0EI,CA3EN,CA4EI,CAhFN,CAiFI,CAlFN,CAmFI,CAzFN","names":["_createElementVNode","href","rel","integrity","crossorigin","class","colspan","align","_hoisted_16","_hoisted_1","_createVNode","_component_router_link","to","name","_hoisted_7","_hoisted_11","$data","length","_createElementBlock","_hoisted_12","_Fragment","_renderList","data","blog","key","id","_toDisplayString","title","description","status","tag","order","params","type","onClick","$options","_hoisted_14","_hoisted_15","_hoisted_17","_createCommentVNode","slice","pageNumber","_hoisted_19"],"sourceRoot":"","sources":["/var/www/html/newData/mansi/my-vuejs-final/src/views/ListOfBlog.vue"],"sourcesContent":["<template>\n  <link\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n    rel=\"stylesheet\"\n    integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n    crossorigin=\"anonymous\"\n  />\n\n  <div class=\"row\">\n    <div class=\"col-12 mb-2 text-end\">\n      <router-link :to=\"{ name: 'apiAddNewBlog' }\" class=\"btn btn-primary\"\n        >Create</router-link\n      >\n    </div>\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h4>Blogs List</h4>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>Title</th>\n                  <th>Description</th>\n                  <th>Status</th>\n                  <th>Tag</th>\n                  <th>Order</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody v-if=\"blogs.length > 0\">\n                <tr v-for=\"blog in blogs.data\" :key=\"blog.id\">\n                  <td>{{ blog.id }}</td>\n                  <td>{{ blog.title }}</td>\n                  <td>{{ blog.description }}</td>\n                  <td>{{ blog.status }}</td>\n                  <td>{{ blog.tag }}</td>\n                  <td>{{ blog.order }}</td>\n                  <td>\n                    <router-link\n                      :to=\"{ name: 'apiEditBlog', params: { id: blog.id } }\"\n                      class=\"btn btn-success\"\n                      >Edit</router-link\n                    >\n                    <button\n                      type=\"button\"\n                      @click=\"deleteBlog(blog.id)\"\n                      class=\"btn btn-danger\"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n              <tbody v-else>\n                <tr>\n                  <td colspan=\"4\" align=\"center\">No Blogs Found.</td>\n                </tr>\n              </tbody>\n            </table>\n\n            <!-- <PaginationComponent :data=\"blogs\" @pagination-change-page=\"getBlogs\">\n            </PaginationComponent> -->\n            <div class=\"clearfix btn-group col-md-2 offset-md-5\">\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary\"\n                v-if=\"page != 1\"\n                @click=\"page--\"\n              >\n                >>\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary\"\n                v-for=\"pageNumber in pages.slice(page - 1, page + 5)\"\n                :key=\"pageNumber\"\n                @click=\"page = pageNumber\"\n              >\n                {{ pageNumber }}\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-outline-secondary\"\n                @click=\"page++\"\n                v-if=\"page < pages.length\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\n// import LaravelVuePagination from \"laravel-vue-pagination\";\n// import NewPagination from \"@/components/NewPagination.vue\";\nexport default {\n  name: \"ListOfBlog\",\n  // components: { NewPagination },\n  // components: { LaravelVuePagination },\n  data() {\n    return {\n      blogs: [],\n      page: 1,\n      perPage: 3,\n      pages: [],\n    };\n  },\n  mounted() {\n    this.getBlogs();\n    this.displayedBlogs();\n  },\n  methods: {\n    async getBlogs() {\n      await axios\n        .get(\"/getAllBlog\", this.blogs)\n        .then((response) => {\n          // this.blogs = response.data;\n          this.blogs = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n          console.log(\"handle server error from here\");\n          this.blogs = [];\n        });\n    },\n    setPages() {\n      let numberOfPages = Math.ceil(this.blogs.length / this.perPage);\n      for (let index = 1; index <= numberOfPages; index++) {\n        this.pages.push(index);\n      }\n    },\n    paginate(blogs) {\n      let page = this.page;\n      let perPage = this.perPage;\n      let from = page * perPage - perPage;\n      let to = page * perPage;\n      return blogs.slice(from, to);\n    },\n    async deleteBlog(id) {\n      if (confirm(\"Are you sure to delete this category ?\")) {\n        await axios\n          .post(`destroyBlog/${id}`)\n          .then((response) => {\n            this.getBlogs();\n            if (response) {\n              alert(\"blog deleted sucessfully\");\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n    displayedBlogs() {\n      return this.paginate(this.blogs);\n    },\n  },\n  watch: {\n    blogs() {\n      this.setPages();\n    },\n  },\n  computed: {\n    displayedBlogs() {\n      return this.paginate(this.blogs);\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}