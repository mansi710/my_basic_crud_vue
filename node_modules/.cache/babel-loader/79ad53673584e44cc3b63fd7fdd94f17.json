{"ast":null,"code":"import axios from \"axios\"; // import LaravelVuePagination from \"laravel-vue-pagination\";\n// import NewPagination from \"@/components/NewPagination.vue\";\n\nexport default {\n  name: \"ListOfBlog\",\n\n  // components: { NewPagination },\n  // components: { LaravelVuePagination },\n  data() {\n    return {\n      blogs: [],\n      pagination: {}\n    };\n  },\n\n  mounted() {\n    this.getBlogs();\n  },\n\n  methods: {\n    getBlogs(pagination) {\n      // pagination = pagination || `/getAllBlog`;\n      // console.log(this.pegination);\n      axios.post(`/getAllBlog?page=${pagination}`, pagination).then(response => {\n        this.blogs = response.data.blog;\n        this.pagination = {\n          current_page: response.current_page,\n          last_page: response.last_page,\n          form_page: response.from_page,\n          to_page: response.to_page,\n          total_page: response.total_page,\n          per_page: response.per_page,\n          path_page: response.path + \"?page\",\n          first_link: response.first_link,\n          last_link: response.last_link,\n          prev_link: response.prev_link,\n          next_link: response.next_link\n        };\n        this.pagination = response.data.blog;\n      }).catch(error => {\n        console.log(error);\n        console.log(\"handle server error from here\");\n        this.blogs = [];\n      });\n    },\n\n    async deleteBlog(id) {\n      if (confirm(\"Are you sure to delete this category ?\")) {\n        await axios.post(`destroyBlog/${id}`).then(response => {\n          this.getBlogs();\n\n          if (response) {\n            alert(\"blog deleted sucessfully\");\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0JA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;;AACA,eAAe;EACbC,IAAI,EAAE,YADO;;EAEb;EACA;EACAC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE,EADF;MAELC,UAAU,EAAE;IAFP,CAAP;EAID,CATY;;EAUbC,OAAO,GAAG;IACR,KAAKC,QAAL;EACD,CAZY;;EAabC,OAAO,EAAE;IACPD,QAAQ,CAACF,UAAD,EAAa;MACnB;MACA;MACAJ,KAAI,CACDQ,IADH,CACS,oBAAmBJ,UAAW,EADvC,EACyCA,UADzC,EAEGK,IAFH,CAESC,QAAD,IAAc;QAClB,KAAKP,KAAL,GAAaO,QAAQ,CAACR,IAAT,CAAcS,IAA3B;QACA,KAAKP,UAAL,GAAkB;UAChBQ,YAAY,EAAEF,QAAQ,CAACE,YADP;UAEhBC,SAAS,EAAEH,QAAQ,CAACG,SAFJ;UAGhBC,SAAS,EAAEJ,QAAQ,CAACK,SAHJ;UAIhBC,OAAO,EAAEN,QAAQ,CAACM,OAJF;UAKhBC,UAAU,EAAEP,QAAQ,CAACO,UALL;UAMhBC,QAAQ,EAAER,QAAQ,CAACQ,QANH;UAOhBC,SAAS,EAAET,QAAQ,CAACU,IAAT,GAAgB,OAPX;UAQhBC,UAAU,EAAEX,QAAQ,CAACW,UARL;UAShBC,SAAS,EAAEZ,QAAQ,CAACY,SATJ;UAUhBC,SAAS,EAAEb,QAAQ,CAACa,SAVJ;UAWhBC,SAAS,EAAEd,QAAQ,CAACc;QAXJ,CAAlB;QAaA,KAAKpB,UAAL,GAAkBM,QAAQ,CAACR,IAAT,CAAcS,IAAhC;MACD,CAlBH,EAmBGc,KAnBH,CAmBUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACAC,OAAO,CAACC,GAAR,CAAY,+BAAZ;QACA,KAAKzB,KAAL,GAAa,EAAb;MACD,CAvBH;IAwBD,CA5BM;;IA6BP,MAAM0B,UAAN,CAAiBC,EAAjB,EAAqB;MACnB,IAAIC,OAAO,CAAC,wCAAD,CAAX,EAAuD;QACrD,MAAM/B,KAAI,CACPQ,IADG,CACG,eAAcsB,EAAG,EADpB,EAEHrB,IAFG,CAEGC,QAAD,IAAc;UAClB,KAAKJ,QAAL;;UACA,IAAII,QAAJ,EAAc;YACZsB,KAAK,CAAC,0BAAD,CAAL;UACF;QACD,CAPG,EAQHP,KARG,CAQIC,KAAD,IAAW;UAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACD,CAVG,CAAN;MAWF;IACD;;EA3CM;AAbI,CAAf","names":["axios","name","data","blogs","pagination","mounted","getBlogs","methods","post","then","response","blog","current_page","last_page","form_page","from_page","to_page","total_page","per_page","path_page","path","first_link","last_link","prev_link","next_link","catch","error","console","log","deleteBlog","id","confirm","alert"],"sourceRoot":"","sources":["/var/www/html/newData/mansi/my-vuejs-final/src/views/ListOfBlog.vue"],"sourcesContent":["<template>\n  <link\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n    rel=\"stylesheet\"\n    integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n    crossorigin=\"anonymous\"\n  />\n\n  <div class=\"row\">\n    <div class=\"col-12 mb-2 text-end\">\n      <!-- <router-link :to=\"{ name: 'apiAddNewBlog' }\" class=\"btn btn-primary\"\n        >Create</router-link\n      > -->\n    </div>\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h4>Blogs List</h4>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>Title</th>\n                  <th>Description</th>\n                  <th>Status</th>\n                  <th>Tag</th>\n                  <th>Order</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody v-if=\"blogs\">\n                <tr v-for=\"blog in blogs.data\" :key=\"blog.id\">\n                  <td>{{ blog.id }}</td>\n                  <td>{{ blog.title }}</td>\n                  <td>{{ blog.description }}</td>\n                  <td>{{ blog.status }}</td>\n                  <td>{{ blog.tag }}</td>\n                  <td>{{ blog.order }}</td>\n                  <td>\n                    <router-link\n                      :to=\"{ name: 'apiEditBlog', params: { id: blog.id } }\"\n                      class=\"btn btn-success\"\n                      >Edit</router-link\n                    >\n                    <button\n                      type=\"button\"\n                      @click=\"deleteBlog(blog.id)\"\n                      class=\"btn btn-danger\"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n              <tbody v-else>\n                <tr>\n                  <td colspan=\"4\" align=\"center\">No Blogs Found.</td>\n                </tr>\n              </tbody>\n            </table>\n\n            <!-- <NewPagination\n              v-if=\"pagination.last_page > 1\"\n              :pagination=\"pagination\"\n              :offset=\"5\"\n              @paginate=\"getBlogs()\"\n            ></NewPagination> -->\n\n            <pagination\n              align=\"center\"\n              :data=\"blogs\"\n              @pagination-change-page=\"list\"\n            ></pagination>\n            <div class=\"row mt-2\">\n              <div class=\"col-md-8\">\n                <nav>\n                  <ul class=\"pagination\">\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.first_link }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.first_link)\"\n                        >&laquo;</a\n                      >\n                    </li>\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.prev_link }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.prev_link)\"\n                        >&lt;</a\n                      >\n                    </li>\n                    <li\n                      v-for=\"n in pagination.last_page\"\n                      :key=\"n\"\n                      v-bind:class=\"{ active: !pagination.current_page == n }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.path_page + n)\"\n                        >{{ n }}</a\n                      >\n                    </li>\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.next_link }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.next_link)\"\n                        >&gt;</a\n                      >\n                    </li>\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.last_link }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.last_link)\"\n                        >&raquo;</a\n                      >\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n              <div class=\"col-md-4\">\n                Page:\n                {{ pagination.form_page }} - {{ pagination.to_page }} Total:{{\n                  pagination.total_page\n                }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\n// import LaravelVuePagination from \"laravel-vue-pagination\";\n// import NewPagination from \"@/components/NewPagination.vue\";\nexport default {\n  name: \"ListOfBlog\",\n  // components: { NewPagination },\n  // components: { LaravelVuePagination },\n  data() {\n    return {\n      blogs: [],\n      pagination: {},\n    };\n  },\n  mounted() {\n    this.getBlogs();\n  },\n  methods: {\n    getBlogs(pagination) {\n      // pagination = pagination || `/getAllBlog`;\n      // console.log(this.pegination);\n      axios\n        .post(`/getAllBlog?page=${pagination}`,pagination)\n        .then((response) => {\n          this.blogs = response.data.blog;\n          this.pagination = {\n            current_page: response.current_page,\n            last_page: response.last_page,\n            form_page: response.from_page,\n            to_page: response.to_page,\n            total_page: response.total_page,\n            per_page: response.per_page,\n            path_page: response.path + \"?page\",\n            first_link: response.first_link,\n            last_link: response.last_link,\n            prev_link: response.prev_link,\n            next_link: response.next_link,\n          };\n          this.pagination = response.data.blog;\n        })\n        .catch((error) => {\n          console.log(error);\n          console.log(\"handle server error from here\");\n          this.blogs = [];\n        });\n    },\n    async deleteBlog(id) {\n      if (confirm(\"Are you sure to delete this category ?\")) {\n        await axios\n          .post(`destroyBlog/${id}`)\n          .then((response) => {\n            this.getBlogs();\n            if (response) {\n              alert(\"blog deleted sucessfully\");\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}