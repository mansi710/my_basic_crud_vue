{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"VuePaginator\"] = factory();else root[\"VuePaginator\"] = factory();\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId])\n          /******/\n          return installedModules[moduleId].exports;\n        /******/\n\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n        var module = installedModules[moduleId] = {\n          /******/\n          exports: {},\n\n          /******/\n          id: moduleId,\n\n          /******/\n          loaded: false\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.loaded = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(0);\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ([\n      /* 1 */\n\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      var _VPaginator = __webpack_require__(2);\n\n      var _VPaginator2 = _interopRequireDefault(_VPaginator);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      module.exports = _VPaginator2.default;\n      /***/\n    },,\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(3);\n      if (module.exports.__esModule) module.exports = module.exports.default;\n      (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __webpack_require__(5);\n\n      if (false) {\n        (function () {\n          var hotAPI = require(\"vue-hot-reload-api\");\n\n          hotAPI.install(require(\"vue\"));\n          if (!hotAPI.compatible) return;\n          var id = \"-!babel!../node_modules/vue-loader/lib/selector.js?type=script&index=0!./VPaginator.vue\";\n          hotAPI.createRecord(id, module.exports);\n          module.hot.accept([\"-!babel!../node_modules/vue-loader/lib/selector.js?type=script&index=0!./VPaginator.vue\", \"-!vue-html-loader!../node_modules/vue-loader/lib/selector.js?type=template&index=0!./VPaginator.vue\"], function () {\n            var newOptions = require(\"-!babel!../node_modules/vue-loader/lib/selector.js?type=script&index=0!./VPaginator.vue\");\n\n            if (newOptions && newOptions.__esModule) newOptions = newOptions.default;\n\n            var newTemplate = require(\"-!vue-html-loader!../node_modules/vue-loader/lib/selector.js?type=template&index=0!./VPaginator.vue\");\n\n            hotAPI.update(id, newOptions, newTemplate);\n          });\n        })();\n      }\n      /***/\n\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _utils = __webpack_require__(4);\n\n      exports.default = {\n        props: {\n          resource_url: {\n            type: String,\n            required: true\n          },\n          custom_template: '',\n          options: {\n            type: Object,\n            required: false,\n            default: function _default() {\n              return {};\n            }\n          }\n        },\n        data: function data() {\n          return {\n            current_page: '',\n            last_page: '',\n            next_page_url: '',\n            prev_page_url: '',\n            config: {\n              remote_data: 'data',\n              remote_current_page: 'current_page',\n              remote_last_page: 'last_page',\n              remote_next_page_url: 'next_page_url',\n              remote_prev_page_url: 'prev_page_url',\n              previous_button_text: 'Previous',\n              next_button_text: 'Next'\n            }\n          };\n        },\n        methods: {\n          fetchData: function fetchData(pageUrl) {\n            this.$emit(\"request_start\");\n            pageUrl = pageUrl || this.resource_url;\n            var self = this;\n            var config = {};\n\n            if (this.config.headers) {\n              config.headers = this.config.headers;\n            }\n\n            this.$http.get(pageUrl, config).then(function (response) {\n              self.$emit(\"request_finish\", response);\n              self.handleResponseData(response.data);\n            }).catch(function (response) {\n              self.$emit(\"request_error\", response);\n              console.log('Fetching data failed.', response);\n            });\n          },\n          handleResponseData: function handleResponseData(response) {\n            this.makePagination(response);\n\n            var data = _utils.utils.getNestedValue(response, this.config.remote_data);\n\n            this.$emit('update', data);\n          },\n          makePagination: function makePagination(data) {\n            this.current_page = _utils.utils.getNestedValue(data, this.config.remote_current_page);\n            this.last_page = _utils.utils.getNestedValue(data, this.config.remote_last_page);\n            this.next_page_url = this.current_page === this.last_page ? null : _utils.utils.getNestedValue(data, this.config.remote_next_page_url);\n            this.prev_page_url = this.current_page === 1 ? null : _utils.utils.getNestedValue(data, this.config.remote_prev_page_url);\n          },\n          initConfig: function initConfig() {\n            this.config = _utils.utils.merge_objects(this.config, this.options);\n          }\n        },\n        watch: {\n          resource_url: function resource_url() {\n            this.fetchData();\n          }\n        },\n        created: function created() {\n          this.initConfig();\n          this.fetchData();\n        }\n      }; // </script>\n      // <template>\n      //   <div class=\"v-paginator\">\n      //     <button class=\"btn btn-default\" @click=\"fetchData(prev_page_url)\" :disabled=\"!prev_page_url\">\n      //       {{config.previous_button_text}}\n      //     </button>\n      //     <span>Page {{current_page}} of {{last_page}}</span>\n      //     <button class=\"btn btn-default\" @click=\"fetchData(next_page_url)\" :disabled=\"!next_page_url\">\n      //       {{config.next_button_text}}\n      //     </button>\n      //   </div>\n      // </template>\n      // <script>\n\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var merge_objects = function merge_objects(obj1, obj2) {\n        var obj3 = {};\n\n        for (var attrname in obj1) {\n          obj3[attrname] = obj1[attrname];\n        }\n\n        for (var _attrname in obj2) {\n          obj3[_attrname] = obj2[_attrname];\n        }\n\n        return obj3;\n      };\n\n      var getNestedValue = function getNestedValue(obj, path) {\n        var originalPath = path;\n        path = path.split('.');\n        var res = obj;\n\n        for (var i = 0; i < path.length; i++) {\n          res = res[path[i]];\n        }\n\n        if (typeof res == 'undefined') console.log('[VuePaginator] Response doesn\\'t contain key ' + originalPath + '!');\n        return res;\n      };\n\n      var utils = exports.utils = {\n        merge_objects: merge_objects,\n        getNestedValue: getNestedValue\n      };\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<div class=\\\"v-paginator\\\">\\n    <button class=\\\"btn btn-default\\\" @click=\\\"fetchData(prev_page_url)\\\" :disabled=\\\"!prev_page_url\\\">\\n      {{config.previous_button_text}}\\n    </button>\\n    <span>Page {{current_page}} of {{last_page}}</span>\\n    <button class=\\\"btn btn-default\\\" @click=\\\"fetchData(next_page_url)\\\" :disabled=\\\"!next_page_url\\\">\\n      {{config.next_button_text}}\\n    </button>\\n  </div>\";\n      /***/\n    }\n    /******/\n    ])\n  );\n});\n\n;","map":{"version":3,"mappings":"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","names":["module","define","exports","root","id","loaded","modules","__webpack_require__","hotAPI","props","resource_url","type","String","required","custom_template","options","Object","default","data","current_page","last_page","next_page_url","prev_page_url","config","remote_data","remote_current_page","remote_last_page","remote_next_page_url","remote_prev_page_url","previous_button_text","next_button_text","methods","fetchData","pageUrl","$emit","self","headers","$http","get","then","response","handleResponseData","catch","console","log","makePagination","_utils","getNestedValue","initConfig","merge_objects","watch","created","obj1","obj2","obj3","attrname","obj","path","originalPath","split","res","i","length","utils"],"sourceRoot":"","sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 561ef067606a8401d80f","webpack:///src/index.js","webpack:///src/VPaginator.vue","webpack:///src/utils.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VuePaginator\"] = factory();\n\telse\n\t\troot[\"VuePaginator\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 561ef067606a8401d80f","import VPaginator from './VPaginator.vue'\n\nmodule.exports = VPaginator\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = \"<div class=\\\"v-paginator\\\">\\n    <button class=\\\"btn btn-default\\\" @click=\\\"fetchData(prev_page_url)\\\" :disabled=\\\"!prev_page_url\\\">\\n      {{config.previous_button_text}}\\n    </button>\\n    <span>Page {{current_page}} of {{last_page}}</span>\\n    <button class=\\\"btn btn-default\\\" @click=\\\"fetchData(next_page_url)\\\" :disabled=\\\"!next_page_url\\\">\\n      {{config.next_button_text}}\\n    </button>\\n  </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/VPaginator.vue\n// module id = 5\n// module chunks = 0","const merge_objects = (obj1, obj2) => {\n  let obj3 = {};\n  for (let attrname in obj1) { obj3[attrname] = obj1[attrname]; }\n  for (let attrname in obj2) { obj3[attrname] = obj2[attrname]; }\n  return obj3;\n}\n\nconst getNestedValue = (obj, path) => {\n  let originalPath = path\n  path = path.split('.')\n  let res = obj\n  for (let i = 0; i < path.length; i++) {\n    res = res[path[i]]\n  }\n  if(typeof res == 'undefined') console.log(`[VuePaginator] Response doesn't contain key ${originalPath}!`)\n  return res\n}\n\nexport const utils = { merge_objects, getNestedValue }\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"]},"metadata":{},"sourceType":"script"}