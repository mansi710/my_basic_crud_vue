{"ast":null,"code":"// import { required, minLength, maxLength, sameAs } from \"vuelidate/lib/validators\";\nimport axios from \"axios\"; // import ValidationError from \"@/components/ValidationError.vue\";\n\nexport default {\n  name: \"CreatePost\",\n\n  data() {\n    return {\n      // components: { ValidationError },\n      // validationErrors: \"\",\n      formData: {\n        // userId: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        confirm_password: \"\" // submitted: false,\n\n      },\n      notifmsg: \"\",\n      // rules: \"\",\n      rules: [{\n        message: \"name required.\",\n        regex: /[a-zA-Z]+/\n      }, {\n        message: \"email required.\",\n        regex: /^\\w+([.-]?\\w+)_@\\w+(_[_.-]?\\w+)_(.\\w{2,3})+$/\n      }, {\n        message: \"8 characters minimum.\",\n        regex: /.{8,}/\n      }, {\n        message: \"number required.\",\n        regex: /[0-9]+/\n      }]\n    };\n  },\n\n  methods: {\n    CreatePost() {\n      axios.post(\"register\", this.formData).then(response => {\n        if (response.status == 200) {\n          alert(\"sucess\");\n          this.$router.push({\n            name: \"apiLogin\"\n          });\n        }\n      }).catch(error => {\n        if (error.response.status == 422) {\n          console.log(error.response.data);\n          this.notifmsg = error.response.data;\n        }\n\n        if (error.response.status == 401) {\n          console.log(error.response.data);\n          this.rules = error.response.data.confirmationError;\n        }\n      });\n    }\n\n  },\n  computed: {\n    notSamePasswords() {\n      if (this.passwordsFilled) {\n        return this.formData.password !== this.formData.confirm_password;\n      } else {\n        return false;\n      }\n    },\n\n    passwordsFilled() {\n      return this.formData.password !== \"\" && this.formData.confirm_password !== \"\";\n    },\n\n    passwordValidation() {\n      let errors = [];\n\n      for (let condition of this.rules) {\n        if (!condition.regex.test(this.formData.password)) {\n          errors.push(condition.message);\n        } // return { $router({ name:\"apiLogin\"}) };\n\n      }\n\n      if (errors.length === 0) {\n        return {\n          valid: true,\n          errors\n        };\n      } else {\n        return {\n          valid: false,\n          errors\n        };\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuGA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,eAAe;EACbC,IAAI,EAAE,YADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACL;MACA;MACAC,QAAQ,EAAE;QACR;QACAF,IAAI,EAAE,EAFE;QAGRG,KAAK,EAAE,EAHC;QAIRC,QAAQ,EAAE,EAJF;QAKRC,gBAAgB,EAAE,EALV,CAMR;;MANQ,CAHL;MAWLC,QAAQ,EAAE,EAXL;MAYL;MACAC,KAAK,EAAE,CACL;QAAEC,OAAO,EAAE,gBAAX;QAA6BC,KAAK,EAAE;MAApC,CADK,EAEL;QACED,OAAO,EAAE,iBADX;QAEEC,KAAK,EAAE;MAFT,CAFK,EAML;QAAED,OAAO,EAAE,uBAAX;QAAoCC,KAAK,EAAE;MAA3C,CANK,EAOL;QAAED,OAAO,EAAE,kBAAX;QAA+BC,KAAK,EAAE;MAAtC,CAPK;IAbF,CAAP;EAuBD,CA1BY;;EA2BbC,OAAO,EAAE;IACPC,UAAU,GAAG;MACXZ,KAAI,CACDa,IADH,CACQ,UADR,EACoB,KAAKV,QADzB,EAEGW,IAFH,CAESC,QAAD,IAAc;QAClB,IAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC1BC,KAAK,CAAC,QAAD,CAAL;UACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB;YAAElB,IAAI,EAAE;UAAR,CAAlB;QACF;MACD,CAPH,EAQGmB,KARH,CAQUC,KAAD,IAAW;QAChB,IAAIA,KAAK,CAACN,QAAN,CAAeC,MAAf,IAAyB,GAA7B,EAAkC;UAChCM,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACN,QAAN,CAAeb,IAA3B;UACA,KAAKK,QAAL,GAAgBc,KAAK,CAACN,QAAN,CAAeb,IAA/B;QACF;;QACA,IAAImB,KAAK,CAACN,QAAN,CAAeC,MAAf,IAAyB,GAA7B,EAAkC;UAChCM,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACN,QAAN,CAAeb,IAA3B;UACA,KAAKM,KAAL,GAAaa,KAAK,CAACN,QAAN,CAAeb,IAAf,CAAoBsB,iBAAjC;QACF;MACD,CAjBH;IAkBD;;EApBM,CA3BI;EAiDbC,QAAQ,EAAE;IACRC,gBAAgB,GAAG;MACjB,IAAI,KAAKC,eAAT,EAA0B;QACxB,OAAO,KAAKxB,QAAL,CAAcE,QAAd,KAA2B,KAAKF,QAAL,CAAcG,gBAAhD;MACF,CAFA,MAEO;QACL,OAAO,KAAP;MACF;IACD,CAPO;;IAQRqB,eAAe,GAAG;MAChB,OACE,KAAKxB,QAAL,CAAcE,QAAd,KAA2B,EAA3B,IAAiC,KAAKF,QAAL,CAAcG,gBAAd,KAAmC,EADtE;IAGD,CAZO;;IAaRsB,kBAAkB,GAAG;MACnB,IAAIC,MAAK,GAAI,EAAb;;MACA,KAAK,IAAIC,SAAT,IAAsB,KAAKtB,KAA3B,EAAkC;QAChC,IAAI,CAACsB,SAAS,CAACpB,KAAV,CAAgBqB,IAAhB,CAAqB,KAAK5B,QAAL,CAAcE,QAAnC,CAAL,EAAmD;UACjDwB,MAAM,CAACV,IAAP,CAAYW,SAAS,CAACrB,OAAtB;QACF,CAHgC,CAIhC;;MACF;;MACA,IAAIoB,MAAM,CAACG,MAAP,KAAkB,CAAtB,EAAyB;QACvB,OAAO;UAAEC,KAAK,EAAE,IAAT;UAAeJ;QAAf,CAAP;MACF,CAFA,MAEO;QACL,OAAO;UAAEI,KAAK,EAAE,KAAT;UAAgBJ;QAAhB,CAAP;MACF;IACD;;EA1BO;AAjDG,CAAf","names":["axios","name","data","formData","email","password","confirm_password","notifmsg","rules","message","regex","methods","CreatePost","post","then","response","status","alert","$router","push","catch","error","console","log","confirmationError","computed","notSamePasswords","passwordsFilled","passwordValidation","errors","condition","test","length","valid"],"sourceRoot":"","sources":["/var/www/html/newData/mansi/my-vuejs-final/src/views/RegisterC.vue"],"sourcesContent":["<template>\n  <link\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n    rel=\"stylesheet\"\n    integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n    crossorigin=\"anonymous\"\n  />\n  <div class=\"container\">\n    <form @submit.prevent=\"CreatePost\" id=\"page\">\n      <div class=\"container\"></div>\n      <div class=\"card-header\">\n        <h4>Register</h4>\n      </div>\n      <div class=\"form-group row\">\n        <div v-if=\"notifmsg\">\n          <div v-for=\"(errorArray, idx) in notifmsg\" :key=\"idx\">\n            <div\n              v-for=\"(allErrors, idx) in errorArray\"\n              :key=\"idx\"\n              class=\"alert alert-danger\"\n            >\n              {{ allErrors }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <div class=\"form-group row\">\n        <label for=\"name\" class=\"col-sm-2 col-form-label\">\n          Enter User Name\n        </label>\n        <div class=\"col-sm-8\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"enter your name\"\n            v-model=\"formData.name\"\n          />\n        </div>\n      </div>\n      <br />\n      <div class=\"form-group row\">\n        <label for=\"email\" class=\"col-sm-2 col-form-label\"> Enter Email </label>\n        <div class=\"col-sm-8\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"enter your email\"\n            v-model=\"formData.email\"\n          />\n        </div>\n      </div>\n      <br />\n      <div class=\"form-group row\">\n        <label for=\"pwd\" class=\"col-sm-2 col-form-label\">Enter Password </label>\n        <div class=\"col-sm-8\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"pwd\"\n            placeholder=\"enter your password\"\n            v-model=\"formData.password\"\n          />\n        </div>\n      </div>\n      <br />\n      <div class=\"form-group row\">\n        <label for=\"c_pwd\" class=\"col-sm-2 col-form-label\">\n          Enter Confirm Password\n        </label>\n        <div class=\"col-sm-8\">\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            id=\"c_pwd\"\n            placeholder=\"Enter Confirm Password\"\n            v-model=\"formData.confirm_password\"\n          />\n        </div>\n      </div>\n      <br />\n      <p v-for=\"error in passwordValidation.errors\" :key=\"error.id\">\n        {{ error }}\n      </p>\n      <transition name=\"hint\" appear>\n        <div\n          v-if=\"passwordValidation.errors.length > 0 && !submitted\"\n          class=\"hints\"\n        ></div>\n      </transition>\n      <div class=\"matches\" v-if=\"notSamePasswords\">\n        <p>Passwords don't match.</p>\n      </div>\n      <div class=\"form-group row\">\n        <div class=\"col-sm-10\">\n          <button type=\"submit\" class=\"btn btn-primary\">Register</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\n// import { required, minLength, maxLength, sameAs } from \"vuelidate/lib/validators\";\nimport axios from \"axios\";\n// import ValidationError from \"@/components/ValidationError.vue\";\nexport default {\n  name: \"CreatePost\",\n  data() {\n    return {\n      // components: { ValidationError },\n      // validationErrors: \"\",\n      formData: {\n        // userId: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        confirm_password: \"\",\n        // submitted: false,\n      },\n      notifmsg: \"\",\n      // rules: \"\",\n      rules: [\n        { message: \"name required.\", regex: /[a-zA-Z]+/ },\n        { \n          message: \"email required.\",\n          regex: /^\\w+([.-]?\\w+)_@\\w+(_[_.-]?\\w+)_(.\\w{2,3})+$/ \n        },\n        { message: \"8 characters minimum.\", regex: /.{8,}/ },\n        { message: \"number required.\", regex: /[0-9]+/ },\n      ],\n    };\n  },\n  methods: {\n    CreatePost() {\n      axios\n        .post(\"register\", this.formData)\n        .then((response) => {\n          if (response.status == 200) {\n            alert(\"sucess\");\n            this.$router.push({ name: \"apiLogin\" });\n          }\n        })\n        .catch((error) => {\n          if (error.response.status == 422) {\n            console.log(error.response.data);\n            this.notifmsg = error.response.data;\n          }\n          if (error.response.status == 401) {\n            console.log(error.response.data);\n            this.rules = error.response.data.confirmationError;\n          }\n        });\n    },\n  },\n  computed: {\n    notSamePasswords() {\n      if (this.passwordsFilled) {\n        return this.formData.password !== this.formData.confirm_password;\n      } else {\n        return false;\n      }\n    },\n    passwordsFilled() {\n      return (\n        this.formData.password !== \"\" && this.formData.confirm_password !== \"\"\n      );\n    },\n    passwordValidation() {\n      let errors = [];\n      for (let condition of this.rules) {\n        if (!condition.regex.test(this.formData.password)) {\n          errors.push(condition.message);\n        }\n        // return { $router({ name:\"apiLogin\"}) };\n      }\n      if (errors.length === 0) {\n        return { valid: true, errors };\n      } else {\n        return { valid: false, errors };\n      }\n    },\n  },\n};\n</script>\n<style>\n.invalid-feedback {\n  color: red;\n}\n.hints {\n  max-width: 400px;\n  padding: 1em;\n  background: whitesmoke;\n  margin: 1em 0;\n  font-size: 0.9em;\n  color: darken(#d4dedf, 50%);\n  h2 {\n    margin: 0.5em 0 0.2em 0;\n  }\n  p {\n    margin: 0;\n    padding-left: 1em;\n    &::before {\n      content: \">\";\n      font-size: 0.9em;\n      margin-right: 6px;\n      display: inline-block;\n    }\n  }\n}\n#page {\n  margin-top: 100px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}