{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"ListOfBlog\",\n\n  data() {\n    return {\n      blogs: [],\n      pagination: {},\n      searchTerm: \"\",\n      blog: \"\",\n      message: \"\",\n      isHidden: false,\n      searchByTitle: \"\",\n      searchByDescription: \"\",\n      searchByStatus: \"\",\n      searchByTag: \"\",\n      searchByOrder: \"\",\n      sortKey: \"asc\",\n      sortBy: [\"id\"]\n    };\n  },\n\n  mounted() {\n    this.getBlogs();\n  },\n\n  methods: {\n    getBlogs(pagination) {\n      axios.post(`/getAllBlog?page=${pagination}&search=${this.searchTerm}&title=${this.searchByTitle}&description=${this.searchByDescription}&status=${this.searchByStatus}&tag=${this.searchByTag}&order=${this.searchByOrder}&sortKey=${this.sortKey}&sortBy=${this.sortBy}`).then(response => {\n        this.blogs = response.data.blog;\n        this.pagination = response.data.blog;\n        this.message = \"\";\n      }).catch(error => {\n        console.log(error);\n\n        if (error.response.status == 404) {\n          this.message = error.response.data.message;\n        }\n\n        this.blogs = [];\n      });\n    },\n\n    async deleteBlog(id) {\n      if (confirm(\"Are you sure to delete this category ?\")) {\n        await axios.post(`destroyBlog/${id}`).then(response => {\n          this.getBlogs();\n\n          if (response) {\n            alert(\"blog deleted sucessfully\");\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n\n    performSearch() {\n      this.getBlogs();\n    },\n\n    orderBy: function (s) {\n      if (s === this.sortBy) {\n        this.sortKey = this.sortKey === \"asc\" ? \"desc\" : \"asc\";\n      }\n\n      this.sortBy = s;\n      this.getBlogs();\n    } // orderBy: function (sorKey) {\n    //   this.sortKey = sorKey;\n    //   this.sortBy[sorKey] == this.sortBy[sorKey];\n    //   this.desc = this.sortBy[sorKey];\n    // },\n\n  },\n  computed: {\n    commonFilterSearchBlog() {\n      if (this.searchTerm) {\n        return this.blogs.filter(searchTerm => {\n          return searchTerm.title.match(this.searchTerm) >= 0 || searchTerm.description.match(this.searchTerm) >= 0 || searchTerm.status.match(this.searchTerm) >= 0 || searchTerm.tag.match(this.searchTerm) >= 0 || searchTerm.order.match(this.searchTerm) >= 0;\n        });\n      } else {\n        return this.message;\n      }\n    },\n\n    individualSearchBlog: function () {\n      return this.blogs.filter(blog => {\n        var searchByTitle = blog.title.match(this.searchByTitle);\n        var searchByDescription = blog.description.match(this.searchByDescription);\n        var searchByStatus = blog.status.match(this.searchByStatus);\n        var searchByTag = blog.tag.match(this.searchByTag);\n        var searchByOrder = blog.order.match(this.searchByOrder);\n\n        if (searchByTitle) {\n          return searchByTitle;\n        }\n\n        if (searchByDescription) {\n          console.log(searchByDescription);\n          return searchByDescription;\n        }\n\n        if (searchByStatus) {\n          return searchByStatus;\n        }\n\n        if (searchByTag) {\n          return searchByTag;\n        }\n\n        if (searchByOrder) {\n          return searchByOrder;\n        }\n      });\n    }\n  },\n  sortedBlogs: function () {\n    return this.blogs.orderBy((p1, p2) => {\n      let modifier = 1;\n      if (this.sortKey === \"desc\") modifier = -1;\n      if (p1[this.sortBy] < p2[this.sortBy]) return -1 * modifier;\n      if (p1[this.sortBy] > p2[this.sortBy]) return 1 * modifier;\n      return 0;\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","name","data","blogs","pagination","searchTerm","blog","message","isHidden","searchByTitle","searchByDescription","searchByStatus","searchByTag","searchByOrder","sortKey","sortBy","mounted","getBlogs","methods","post","then","response","catch","error","console","log","status","deleteBlog","id","confirm","alert","performSearch","orderBy","s","computed","commonFilterSearchBlog","filter","title","match","description","tag","order","individualSearchBlog","sortedBlogs","p1","p2","modifier"],"sourceRoot":"","sources":["/var/www/html/newData/mansi/my-vuejs-final/src/views/ListOfBlog.vue"],"sourcesContent":["<template>\n  <link\n    href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n    rel=\"stylesheet\"\n    integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n    crossorigin=\"anonymous\"\n  />\n\n  <div class=\"row\">\n    <div class=\"col-12 mb-2 text-end\">\n      <router-link :to=\"{ name: 'apiAddNewBlog' }\" class=\"btn btn-primary\"\n        >Create</router-link\n      >\n    </div>\n\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h4>Blogs List</h4>\n        </div>\n        <!-- for global search search any filed by common search box -->\n        <div class=\"card-tools\" id=\"search\">\n          <div class=\"input-group input-group-sm\" style=\"width: 250px\">\n            <input\n              name=\"table_search\"\n              class=\"form-control float-right\"\n              placeholder=\"Global Search\"\n              v-model=\"searchTerm\"\n              type=\"search\"\n              aria-label=\"Search\"\n            />\n            <div class=\"input-group-append\">\n              <button type=\"submit\" class=\"btn btn-info\" @click=\"performSearch\">\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n        <!-- end of common serch -->\n        <div class=\"alert alert-danger col-12 mb-2\" v-if=\"message\">\n          <p>{{ message }}</p>\n        </div>\n        <!-- individual serach -->\n        <div class=\"card-tools\">\n          <button class=\"btn btn-primary btn-lg\" @click=\"isHidden = !isHidden\">\n            Showing Advanced search\n          </button>\n          <div class=\"input-group\" id=\"advancedSearch\" v-if=\"!isHidden\">\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              v-model=\"searchByTitle\"\n              placeholder=\"Search by title\"\n            />\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              v-model=\"searchByDescription\"\n              placeholder=\"Search by description\"\n            />\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              v-model=\"searchByStatus\"\n              placeholder=\"Search by status\"\n            />\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              v-model=\"searchByTag\"\n              placeholder=\"Search by tag\"\n            />\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              v-model=\"searchByOrder\"\n              placeholder=\"Search by order\"\n            />\n            <div class=\"input-group-append\">\n              <button type=\"submit\" class=\"btn btn-info\" @click=\"performSearch\">\n                Individual Search\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th\n                    @click=\"orderBy('id')\"\n                    v-bind:class=\"[sortBy === 'id' ? sortKey : '']\"\n                  >\n                    ID\n                  </th>\n                  <th\n                    @click=\"orderBy('title')\"\n                    v-bind:class=\"[sortBy === 'title' ? sortKey : '']\"\n                  >\n                    Title\n                  </th>\n                  <th\n                    @click=\"orderBy('description')\"\n                    v-bind:class=\"[sortBy === 'description' ? sortKey : '']\"\n                  >\n                    Description\n                  </th>\n                  <th\n                    @click=\"orderBy('status')\"\n                    v-bind:class=\"[sortBy === 'status' ? sortKey : '']\"\n                  >\n                    Status\n                  </th>\n                  <th\n                    @click=\"orderBy('tag')\"\n                    v-bind:class=\"[sortBy === 'tag' ? sortKey : '']\"\n                  >\n                    Tag\n                  </th>\n                  <th\n                    @click=\"orderBy('order')\"\n                    v-bind:class=\"[sortBy === 'order' ? sortKey : '']\"\n                  >\n                    Order\n                  </th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody v-if=\"blogs\">\n                <tr v-for=\"blog in blogs.data | sortBy\" :key=\"blog.id\">\n                  <td>{{ blog.id }}</td>\n                  <td>{{ blog.title }}</td>\n                  <td>{{ blog.description }}</td>\n                  <td>{{ blog.status }}</td>\n                  <td>{{ blog.tag }}</td>\n                  <td>{{ blog.order }}</td>\n                  <td>\n                    <router-link\n                      :to=\"{ name: 'apiEditBlog', params: { id: blog.id } }\"\n                      class=\"btn btn-success\"\n                      >Edit</router-link\n                    >\n                    <button\n                      type=\"button\"\n                      @click=\"deleteBlog(blog.id)\"\n                      class=\"btn btn-danger\"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n              <tbody v-else>\n                <tr>\n                  <td colspan=\"6\" align=\"center\">No Blogs Found.</td>\n                </tr>\n              </tbody>\n            </table>\n\n            <pagination\n              align=\"center\"\n              :data=\"blogs\"\n              @pagination-change-page=\"list\"\n            ></pagination>\n            <div class=\"row mt-2\">\n              <div class=\"col-md-8\">\n                <nav>\n                  <ul class=\"pagination\">\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.first_page_url }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.first_page_url)\"\n                        >&laquo;</a\n                      >\n                    </li>\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.prev_page_url }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.prev_page_url)\"\n                        >&lt;</a\n                      >\n                    </li>\n                    <li\n                      v-for=\"n in pagination.last_page\"\n                      :key=\"n\"\n                      v-bind:class=\"{ active: !pagination.current_page == n }\"\n                      class=\"page-item\"\n                    >\n                      <a href=\"#\" class=\"page-link\" @click=\"getBlogs(n)\">\n                        {{ n }}\n                      </a>\n                    </li>\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.next_page_url }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.next_page_url)\"\n                        >&gt;</a\n                      >\n                    </li>\n                    <li\n                      v-bind:class=\"{ disabled: !pagination.last_page_url }\"\n                      class=\"page-item\"\n                    >\n                      <a\n                        href=\"#\"\n                        class=\"page-link\"\n                        @click=\"getBlogs(pagination.last_page_url)\"\n                        >&raquo;</a\n                      >\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n              <div class=\"col-md-4\">\n                Page:\n                {{ pagination.from }} to {{ pagination.to }} Total:\n                {{ pagination.total }}\n              </div>\n              <update-profile\n                :data=\"blog\"\n                :show=\"showUpdateModal\"\n                v-on:save=\"updateUser\"\n                v-on:close=\"showUpdateModal = false\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"ListOfBlog\",\n  data() {\n    return {\n      blogs: [],\n      pagination: {},\n      searchTerm: \"\",\n      blog: \"\",\n      message: \"\",\n      isHidden: false,\n      searchByTitle: \"\",\n      searchByDescription: \"\",\n      searchByStatus: \"\",\n      searchByTag: \"\",\n      searchByOrder: \"\",\n      sortKey: \"asc\",\n      sortBy: [\"id\"],\n    };\n  },\n  mounted() {\n    this.getBlogs();\n  },\n  methods: {\n    getBlogs(pagination) {\n      axios\n        .post(\n          `/getAllBlog?page=${pagination}&search=${this.searchTerm}&title=${this.searchByTitle}&description=${this.searchByDescription}&status=${this.searchByStatus}&tag=${this.searchByTag}&order=${this.searchByOrder}&sortKey=${this.sortKey}&sortBy=${this.sortBy}`\n        )\n        .then((response) => {\n          this.blogs = response.data.blog;\n          this.pagination = response.data.blog;\n          this.message = \"\";\n        })\n        .catch((error) => {\n          console.log(error);\n          if (error.response.status == 404) {\n            this.message = error.response.data.message;\n          }\n          this.blogs = [];\n        });\n    },\n    async deleteBlog(id) {\n      if (confirm(\"Are you sure to delete this category ?\")) {\n        await axios\n          .post(`destroyBlog/${id}`)\n          .then((response) => {\n            this.getBlogs();\n            if (response) {\n              alert(\"blog deleted sucessfully\");\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n    performSearch() {\n      this.getBlogs();\n    },\n    orderBy: function (s) {\n      if (s === this.sortBy) {\n        this.sortKey = this.sortKey === \"asc\" ? \"desc\" : \"asc\";\n      }\n      this.sortBy = s;\n      this.getBlogs();\n    },\n    // orderBy: function (sorKey) {\n    //   this.sortKey = sorKey;\n    //   this.sortBy[sorKey] == this.sortBy[sorKey];\n    //   this.desc = this.sortBy[sorKey];\n    // },\n  },\n\n  computed: {\n    commonFilterSearchBlog() {\n      if (this.searchTerm) {\n        return this.blogs.filter((searchTerm) => {\n          return (\n            searchTerm.title.match(this.searchTerm) >= 0 ||\n            searchTerm.description.match(this.searchTerm) >= 0 ||\n            searchTerm.status.match(this.searchTerm) >= 0 ||\n            searchTerm.tag.match(this.searchTerm) >= 0 ||\n            searchTerm.order.match(this.searchTerm) >= 0\n          );\n        });\n      } else {\n        return this.message;\n      }\n    },\n    individualSearchBlog: function () {\n      return this.blogs.filter((blog) => {\n        var searchByTitle = blog.title.match(this.searchByTitle);\n        var searchByDescription = blog.description.match(\n          this.searchByDescription\n        );\n        var searchByStatus = blog.status.match(this.searchByStatus);\n        var searchByTag = blog.tag.match(this.searchByTag);\n        var searchByOrder = blog.order.match(this.searchByOrder);\n\n        if (searchByTitle) {\n          return searchByTitle;\n        }\n\n        if (searchByDescription) {\n          console.log(searchByDescription);\n          return searchByDescription;\n        }\n\n        if (searchByStatus) {\n          return searchByStatus;\n        }\n        if (searchByTag) {\n          return searchByTag;\n        }\n        if (searchByOrder) {\n          return searchByOrder;\n        }\n      });\n    },\n  },\n  sortedBlogs: function () {\n    return this.blogs.orderBy((p1, p2) => {\n      let modifier = 1;\n      if (this.sortKey === \"desc\") modifier = -1;\n      if (p1[this.sortBy] < p2[this.sortBy]) return -1 * modifier;\n      if (p1[this.sortBy] > p2[this.sortBy]) return 1 * modifier;\n      return 0;\n    });\n  },\n};\n</script>\n<style scoped>\n#search {\n  margin-top: 20px;\n  margin-left: 1200px;\n}\n#advancedSearch {\n  margin-top: 20px;\n}\n.asc:after {\n  content: \"\\25B2\";\n}\n.desc:after {\n  content: \"\\25BC\";\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}